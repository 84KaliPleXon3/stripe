<?xml version='1.0'?>
<config
	xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'
	xsi:noNamespaceSchemaLocation='urn:magento:framework:ObjectManager/etc/config.xsd'
>
	<type name='Magento\Checkout\Model\CompositeConfigProvider'>
		<arguments>
			<argument name='configProviders' xsi:type='array'>
				<item name='dfe_stripe' xsi:type='object'>Dfe\Stripe\ConfigProvider</item>
			</argument>
		</arguments>
	</type>
	<type name='Magento\Payment\Model\CcGenericConfigProvider'>
		<arguments>
			<argument name='methodCodes' xsi:type='array'>
				<item name='dfe_stripe' xsi:type='string'>dfe_stripe</item>
			</argument>
		</arguments>
	</type>
<!-- 2017-11-08 `source.canceled`
Note 1. «Occurs whenever a source is `canceled`»
https://stripe.com/docs/api/php#event_types-source.canceled
Note 2. «A Source object expired and cannot be used to create a charge»
https://stripe.com/docs/sources/three-d-secure#webhooks -->
	<virtualType name='Dfe\Stripe\W\Handler\Source\Canceled' type='Df\PaypalClone\W\Handler'/>
<!-- 2017-11-08 `source.chargeable`
Note 1. «Occurs whenever a source transitions to `chargeable`»
https://stripe.com/docs/api/php#event_types-source.chargeable
Note 2. «A Source object becomes `chargeable` after a customer has authenticated and verified a payment»
https://stripe.com/docs/sources/three-d-secure#webhooks
Note 3. «A `source.chargeable` event»: https://mage2.pro/t/4889 -->
	<virtualType name='Dfe\Stripe\W\Handler\Source\Chargeable' type='Df\PaypalClone\W\Handler'/>
<!-- 2017-11-08 `source.failed`
Note 1. «Occurs whenever a source fails»
https://stripe.com/docs/api/php#event_types-source.failed
Note 2.
«A Source object failed to become `chargeable`
as your customer declined or failed to authenticate the payment»
https://stripe.com/docs/sources/three-d-secure#webhooks -->
	<virtualType name='Dfe\Stripe\W\Handler\Source\Failed' type='Df\PaypalClone\W\Handler'/>
</config>